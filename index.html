<!DOCTYPE html>
 <html lang="en">
   <head>
     <meta charset="UTF-8" />
     <meta name="viewport" content="width=device-width, initial-scale=1.0" />
     <title>Smart Home Dashboard</title>

     <!-- Tailwind CSS -->
     <script src="https://cdn.tailwindcss.com"></script>


     <!-- Lucide Icons -->
     <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://www.unpkg.com/@eohjsc/era-widget@1.1.3/src/index.js"></script>


     <!-- Highcharts Gantt -->
     <script src="https://code.highcharts.com/gantt/highcharts-gantt.js"></script>
     <script src="https://code.highcharts.com/gantt/modules/exporting.js"></script>
     <script src="https://code.highcharts.com/gantt/modules/accessibility.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

     <!-- Custom CSS -->
     <link rel="stylesheet" href="styles.css" />
   </head>
 <body class="bg-gray-100  max-w-full  mx-auto px-4 h-[400px] sm:h-[500px] w-full overflow-y-auto">
<header class="bg-transparent backdrop-blur-md shadow-md fixed top-0 left-0 right-0 z-50">
  <div class="flex justify-between items-center p-4">
    <!-- Logo -->
    <div class="flex items-center space-x-4">
      <img src="assets/img/logo-era.png" alt="ERa Logo" width="100" />
    </div>

    <!-- Hamburger menu - hiển thị trên màn hình nhỏ -->
    <div class="sm:hidden">
      <button id="menu-toggle" class="text-gray-700 focus:outline-none">
        <!-- Icon hamburger -->
        <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2"
          viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>

    <!-- Navigation links -->
    <div id="menu" class="hidden sm:flex space-x-4">
      <a href="index.html" class="menu-item bg-gray-300 text-gray-700 py-2 px-4 rounded-lg transition duration-300 ease-in-out transform hover:bg-blue-500 hover:text-white hover:scale-105 hover:shadow-lg">
    Overview
  </a>
  <a href="analytics.html" class="menu-item bg-gray-300 text-gray-700 py-2 px-4 rounded-lg transition duration-300 ease-in-out transform hover:bg-blue-500 hover:text-white hover:scale-105 hover:shadow-lg">
    Analytics
  </a>
  <a href="#" class="menu-item bg-gray-300 text-gray-700 py-2 px-4 rounded-lg transition duration-300 ease-in-out transform hover:bg-blue-500 hover:text-white hover:scale-105 hover:shadow-lg">
    Monitoring
  </a>
    </div>
  </div>

  <!-- Dropdown menu for mobile -->
  <div id="mobile-menu" class="sm:hidden m-4 hidden flex-col space-y-2">
    <a href="index.html" class="bg-gray-300 text-gray-700 py-2 px-4 rounded-lg block">
      Overview
    </a>
    <a href="analytics.html" class="bg-gray-300 text-gray-700 py-2 px-4 rounded-lg block">
      Analytics
    </a>
    <a href="#" class="bg-gray-300 text-gray-700 py-2 px-4 rounded-lg block">
      Monitoring
    </a>
  </div>
</header>
         <!-- EM2M Energy Meter Readings -->
        <div class="p-8 rounded-lg shadow-md mt-6 mt-[100px]"> <!-- Adjust mt value -->
  <h2 class="text-lg font-bold text-gray-700 mb-4">
    Thông số Đồng hồ điện EM2M
  </h2>
           <div
             class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 text-center">
             <div class="p-2 border rounded">
               <div class="text-sm text-gray-500">Điện áp</div>
               <div class="text-2xl font-bold text-blue-600" id="voltageValue">
                 220 V
               </div>
               <div class="bg-gray-300 h-2 rounded-lg overflow-hidden mb-2">
                 <div id="voltageProgress" class="bg-blue-500 h-full"></div>
               </div>
             </div>
             <div class="p-2 border rounded">
               <div class="text-sm text-gray-500">Dòng điện</div>
               <div class="text-2xl font-bold text-green-600" id="currentValue">
                 10 A
               </div>
               <div class="bg-gray-300 h-2 rounded-lg overflow-hidden mb-2">
                 <div id="currentProgress" class="bg-green-500 h-full"></div>
               </div>
             </div>
             <div class="p-2 border rounded">
               <div class="text-sm text-gray-500">Công suất</div>
               <div class="text-2xl font-bold text-yellow-500" id="powerValue">
                 2200 W
               </div>
               <div class="bg-gray-300 h-2 rounded-lg overflow-hidden mb-2">
                 <div id="powerProgress" class="bg-yellow-500 h-full"></div>
               </div>
             </div>
             <div class="p-2 border rounded">
               <div class="text-sm text-gray-500">Tần số</div>
               <div
                 class="text-2xl font-bold text-purple-600"
                 id="frequencyValue">
                 50 Hz
               </div>
               <div class="bg-gray-300 h-2 rounded-lg overflow-hidden mb-2">
                 <div id="frequencyProgress" class="bg-purple-500 h-full"></div>
               </div>
             </div>
             <div class="p-2 border rounded">
               <div class="text-sm text-gray-500">Hệ số công suất</div>
               <div
                 class="text-2xl font-bold text-red-500"
                 id="powerFactorValue">
                 0.9
               </div>
               <div class="bg-gray-300 h-2 rounded-lg overflow-hidden mb-2">
                 <div id="powerFactorProgress" class="bg-red-500 h-full"></div>
               </div>
             </div>
             <div class="p-2 border rounded">
               <div class="text-sm text-gray-500">Điện năng tiêu thụ</div>
               <div class="text-2xl font-bold text-indigo-500" id="energyValue">
                 500 kWh
               </div>
               <div class="bg-gray-300 h-2 rounded-lg overflow-hidden mb-2">
                 <div id="energyProgress" class="bg-indigo-500 h-full"></div>
               </div>
             </div>
           </div>
         </div>
         <div>
           <!-- See Full Report Button -->
           <button
             id="openModalBtn"
             class="text-yellow-700 font-semibold hover:bg-yellow-600 hover:text-white neon-card p-4 mt-6 transition-all hover:scale-105 bg-transparent text-white py-2 px-4 rounded-lg">
            Xem chi tiết báo cáo          </button>

           <!-- ✅ MODAL -->
           <div
             id="fullReportModal"
             class="fixed inset-0 z-50 bg-black bg-opacity-50 flex justify-center items-center hidden">
             <div
            class="bg-white/50 backdrop-blur-md rounded-lg shadow-lg p-12 w-full max-w-3xl relative">              <button
                 id="closeModalBtn"
                 class="absolute top-2 right-2 text-gray-600  hover:text-pink-500 text-4xl">
                 &times;
               </button>
               <h3 class="text-2xl font-bold mb-4 text-center">
                 Báo cáo chi tiết thông số
               </h3>
               <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                 <div>
                   <p class="text-gray-500 text-sm">Điện áp</p>
                   <p class="text-lg font-semibold" id="modalVoltage">-- V</p>
                 </div>
                 <div>
                   <p class="text-gray-500 text-sm">Dòng điện</p>
                   <p class="text-lg font-semibold" id="modalCurrent">-- A</p>
                 </div>
                 <div>
                   <p class="text-gray-500 text-sm">Công suất</p>
                   <p class="text-lg font-semibold" id="modalPower">-- W</p>
                 </div>
                 <div>
                   <p class="text-gray-500 text-sm">Tần số</p>
                   <p class="text-lg font-semibold" id="modalFrequency">-- Hz</p>
                 </div>
                 <div>
                   <p class="text-gray-500 text-sm">Hệ số công suất</p>
                   <p class="text-lg font-semibold" id="modalPowerFactor">--</p>
                 </div>
                 <div>
                   <p class="text-gray-500 text-sm">Điện năng tiêu thụ</p>
                   <p class="text-lg font-semibold" id="modalEnergy">-- kWh</p>
                 </div>
               </div>

               <!-- Button to download the report -->
               <button
                 id="downloadReportBtn"
                 class="mt-6 bg-blue-500 bg-white text-pink-600 hover:bg-pink-600 stroke-current hover:text-white py-2 px-4 rounded-lg w-full">
               Tải xuống báo cáo
             </button>
             </div>
           </div>
         </div>
       </div>
     </div>

     <div class="grid mt-8 grid-cols-1 lg:grid-cols-2 gap-4">
 <div class="bg-white font-sans p-6">

   <div class="max-w-2xl mx-auto">
     <h2 class="text-2xl font-bold text-gray-800 mb-4">History</h2>


    <!-- Controls -->
    <div class="flex flex-wrap items-center gap-4 mb-6">
      <label class="flex flex-col text-xs text-gray-600">
        From
        <input type="date" id="fromDate" class="border-gray-300 rounded p-2 text-sm"/>
      </label>
      <label class="flex flex-col text-xs text-gray-600">
        To
        <input type="date" id="toDate" class="border-gray-300 rounded p-2 text-sm"/>
      </label>
      <label class="flex items-center text-xs text-gray-600 space-x-2">
        <span>Price (₫/kWh)</span>
        <input type="number" id="priceInput" value="3000" class="border-gray-300 rounded p-2 w-24 text-sm"/>
      </label>
      <label class="flex items-center text-xs text-gray-600 space-x-2">
  <div class="flex items-center space-x-2 text-xs text-gray-600">
  <div id="viewModeButtons" class="flex space-x-1">
    <button data-mode="D" class="view-btn bg-teal-100 text-teal-800 px-2 py-1 rounded border border-teal-300">D</button>
    <button data-mode="W" class="view-btn bg-white text-gray-700 px-2 py-1 rounded border">W</button>
    <button data-mode="M" class="view-btn bg-white text-gray-700 px-2 py-1 rounded border">M</button>
    <button data-mode="Y" class="view-btn bg-white text-gray-700 px-2 py-1 rounded border">Y</button>
  </div>
</div>
      <button id="updateBtn" class="bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded text-sm">
        Update
      </button>
      <button onclick="showReport()" class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded text-sm">
        Xem hóa đơn
      </button>
    </div>

      <!-- Chart -->
    <div id="historyChart" class="w-full h-96 mb-8"></div>

    <!-- Report Modal -->
  <div id="reportModal" class="fixed inset-0 bg-black bg-opacity-30 backdrop-blur-sm hidden flex items-center justify-center z-50 px-4 sm:px-6">
  <div class="bg-white p-6 rounded-lg w-full max-w-xl shadow-lg relative">
    <button onclick="document.getElementById('reportModal').classList.add('hidden')" class="absolute top-2 right-2 text-gray-400 hover:text-red-600 text-xl">×</button>
    <h3 class="text-lg font-semibold mb-4">Hóa đơn tiền điện</h3>
    <div id="reportContent" class="text-sm space-y-2"></div>
    <div class="mt-4 text-right">
      <button id="downloadReport" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded text-sm">
        Tải xuống hóa đơn (PDF)
      </button>
    </div>
  </div>
</div>

  </div>

<!-- Modal báo cáo -->
<div
  id="reportModal"
  class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center hidden z-50"
>
  <div class="bg-white p-6 rounded-lg shadow-lg max-w-xl w-full relative">
    <button
      id="closeReport"
      class="absolute top-2 right-2 text-gray-500 hover:text-red-500"
    >
      ✕
    </button>
    <h3 class="text-xl font-semibold text-gray-800 mb-4">Báo cáo hóa đơn</h3>
    <div id="reportContent" class="text-sm text-gray-700 space-y-3"></div>
  </div>
</div>
</div>
       <!-- Center Panel -->
<!-- Center Panel -->
<div class="p-6 rounded-xl bg-white/40 backdrop-blur-2xl ">
  <div class="bg-white/30 backdrop-blur-md rounded-2xl shadow-md p-4 mb-4 border border-white/40">
    <!-- Tiêu đề và trạng thái -->
    <div class="flex justify-between items-center mb-2">
      <h2 class="text-lg font-semibold text-gray-800">Khu Vườn</h2>
      <div class="flex items-center space-x-2">
        <span class="w-3 h-3 rounded-full bg-green-500 animate-pulse"></span>
        <span class="text-sm text-green-600">Online</span>
      </div>
    </div>
    <!-- Điện năng tiêu thụ -->
    <div class="flex items-center justify-between mb-2">
      <span class="text-sm text-gray-600">Điện năng tiêu thụ</span>
      <span id="powerConsumptionGarden" class="text-sm font-medium text-gray-800">-- W</span>
    </div>

    <!-- Nút bật tắt điện tổng -->
    <div class="flex items-center justify-between">
      <span class="text-sm text-gray-600">Điện tổng</span>
      <label class="relative inline-flex items-center cursor-pointer">
        <input type="checkbox" class="sr-only peer" id="powerSwitchLivingRoom" onchange="togglePower('livingRoom')">
        <div class="w-11 h-6 bg-red-300 peer-focus:outline-none rounded-full peer peer-checked:bg-green-500 transition-colors"></div>
        <span class="ml-3 text-sm font-medium text-gray-600">CP tổng</span>
      </label>
    </div>



    <div class="flex  items-center mt-4 space-x-6">
  <i data-lucide="flower-2" id="den1" class="w-7 h-7 text-red-300 cursor-pointer transition" onclick="toggleLight(this)"></i>
  <i data-lucide="sun" id="den2" class="w-7 h-7 text-red-300 cursor-pointer transition" onclick="toggleLight(this)"></i>
  <i data-lucide="lightbulb" id="den3" class="w-7 h-7 text-red-300 cursor-pointer transition" onclick="toggleLight(this)"></i>
  <i data-lucide="lightbulb" id="den4" class="w-7 h-7 text-red-300 cursor-pointer transition" onclick="toggleLight(this)"></i>
</div>
  </div>
     <!-- Card 2 -->

  <div class="bg-white/30 backdrop-blur-md rounded-2xl shadow-md p-4 mb-4 border border-white/40">

    <!-- Tiêu đề và trạng thái -->
    <div class="flex justify-between items-center mb-2">
      <h2 class="text-lg font-semibold text-gray-800">Phòng Khách</h2>
      <div class="flex items-center space-x-2">
        <span class="w-3 h-3 rounded-full bg-green-500 animate-pulse"></span>
        <span class="text-sm text-green-400">Online</span>
      </div>
    </div>

    <!-- Điện năng tiêu thụ -->
    <div class="flex items-center justify-between mb-2">
      <span class="text-sm text-gray-600">Điện năng tiêu thụ</span>
      <span id="powerConsumptionLivingRoom" class="text-sm font-medium text-gray-800">-- W</span>
    </div>

    <!-- Nút bật tắt điện tổng -->
    <div class="flex items-center justify-between">
      <span class="text-sm text-gray-600">Điện tổng</span>
      <label class="relative inline-flex items-center cursor-pointer">
        <input type="checkbox" class="sr-only peer" id="powerSwitchLivingRoom" onchange="togglePower('livingRoom')">
        <div class="w-11 h-6 bg-red-300 peer-focus:outline-none rounded-full peer peer-checked:bg-green-500 transition-colors"></div>
        <span class="ml-3 text-sm font-medium text-gray-600">CP tổng</span>
      </label>
    </div>
<div class="flex  items-center mt-4 space-x-6">
  <i data-lucide="air-vent" id="den1" class="w-7 h-7 text-red-300 cursor-pointer transition" onclick="toggleLight(this)"></i>
  <i data-lucide="cast" id="den2" class="w-7 h-7 text-red-300 cursor-pointer transition" onclick="toggleLight(this)"></i>
  <i data-lucide="music-4" id="den3" class="w-7 h-7 text-red-300 cursor-pointer transition" onclick="toggleLight(this)"></i>
  <i data-lucide="lightbulb" id="den4" class="w-7 h-7 text-red-300 cursor-pointer transition" onclick="toggleLight(this)"></i>
</div>
</div>
    <!-- Card 3 -->

  <div class="bg-white/30 backdrop-blur-md rounded-2xl shadow-md p-4 mb-4 border border-white/40">

    <!-- Tiêu đề và trạng thái -->
    <div class="flex justify-between items-center mb-2">
      <h2 class="text-lg font-semibold text-gray-800">Phòng Bếp</h2>
      <div class="flex items-center space-x-2">
        <span class="w-3 h-3 rounded-full bg-green-500 animate-pulse"></span>
        <span class="text-sm text-green-400">Online</span>
      </div>
    </div>

    <!-- Điện năng tiêu thụ -->
    <div class="flex items-center justify-between mb-2">
      <span class="text-sm text-gray-600">Điện năng tiêu thụ</span>
<span id="powerConsumptionKitchen" class="text-sm font-medium text-gray-800">-- W</span>
    </div>

    <!-- Nút bật tắt điện tổng -->
    <div class="flex items-center justify-between">
      <span class="text-sm text-gray-600">Điện tổng</span>
      <label class="relative inline-flex items-center cursor-pointer">
        <input type="checkbox" class="sr-only peer" id="powerSwitchLivingRoom" onchange="togglePower('livingRoom')">
        <div class="w-11 h-6 bg-red-300 peer-focus:outline-none rounded-full peer peer-checked:bg-green-500 transition-colors"></div>
        <span class="ml-3 text-sm font-medium text-gray-600">CP tổng</span>
      </label>
    </div>
    <div class="flex  items-center mt-4 space-x-6">
  <i data-lucide="air-vent" id="den1" class="w-7 h-7 text-red-300 cursor-pointer transition" onclick="toggleLight(this)"></i>
  <i data-lucide="cast" id="den2" class="w-7 h-7 text-red-300 cursor-pointer transition" onclick="toggleLight(this)"></i>
  <i data-lucide="lightbulb" id="den3" class="w-7 h-7 text-red-300 cursor-pointer transition" onclick="toggleLight(this)"></i>
  <i data-lucide="lightbulb" id="den4" class="w-7 h-7 text-red-300 cursor-pointer transition" onclick="toggleLight(this)"></i>
</div>
</div>
   <!-- Card 4 -->

  <div class="bg-white/30 backdrop-blur-md rounded-2xl shadow-md p-4 mb-4 border border-white/40">

    <!-- Tiêu đề và trạng thái -->
    <div class="flex justify-between items-center mb-2">
      <h2 class="text-lg font-semibold text-gray-800">Phòng Ngủ</h2>
      <div class="flex items-center space-x-2">
        <span class="w-3 h-3 rounded-full bg-green-500 animate-pulse"></span>
        <span class="text-sm text-green-400">Online</span>
      </div>
    </div>

    <!-- Điện năng tiêu thụ -->
    <div class="flex items-center justify-between mb-2">
      <span class="text-sm text-gray-600">Điện năng tiêu thụ</span>
<span id="powerConsumptionBedroom" class="text-sm font-medium text-gray-800">-- W</span>
    </div>

    <!-- Nút bật tắt điện tổng -->
    <div class="flex items-center justify-between">
      <span class="text-sm text-gray-600">Điện tổng</span>
      <label class="relative inline-flex items-center cursor-pointer">
        <input type="checkbox" class="sr-only peer" id="powerSwitchLivingRoom" onchange="togglePower('livingRoom')">
        <div class="w-11 h-6 bg-red-300 peer-focus:outline-none rounded-full peer peer-checked:bg-green-500 transition-colors"></div>
        <span class="ml-3 text-sm font-medium text-gray-600">CP tổng</span>
      </label>
    </div>
    <div class="flex  items-center mt-4 space-x-6">
  <i data-lucide="air-vent" id="den1" class="w-7 h-7 text-red-300 cursor-pointer transition" onclick="toggleLight(this)"></i>
  <i data-lucide="lamp" id="den2" class="w-7 h-7 text-red-300 cursor-pointer transition" onclick="toggleLight(this)"></i>
  <i data-lucide="bed-double" id="den3" class="w-7 h-7 text-red-300 cursor-pointer transition" onclick="toggleLight(this)"></i>
  <i data-lucide="lightbulb" id="den4" class="w-7 h-7 text-red-300 cursor-pointer transition" onclick="toggleLight(this)"></i>
</div>
  </div>

</div>

</div>

 <!-- Right Panel -->
 <section class="relative bg-gray-50 my-4 p-8 rounded-xl shadow-lg">
  <div class="grid grid-cols-3 gap-4 relative">
    <!-- Solar Panel -->
    <div class="flex flex-col items-center z-10">
      <div class="bg-blue-100 p-2 rounded-lg mb-3">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-16 h-16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
          <rect x="3" y="4" width="18" height="12" rx="2" class="fill-blue-500 stroke-blue-600" />
          <line x1="9" y1="4" x2="9" y2="16" class="stroke-blue-200" />
          <line x1="15" y1="4" x2="15" y2="16" class="stroke-blue-200" />
          <line x1="3" y1="10" x2="21" y2="10" class="stroke-blue-200" />
        </svg>
      </div>
      <div class="text-xl font-bold text-yellow-600">7202W</div>
      <div class="text-sm text-gray-600 font-medium">Công suất PV</div>
    </div>

    <!-- Inverter - Trạm trung chuyển -->
    <div class="flex flex-col items-center z-10">
      <div class="bg-gray-100 p-2 rounded-lg mb-3">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-16 h-16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
          <rect x="4" y="2" width="16" height="20" rx="2" class="fill-gray-300 stroke-gray-500" />
          <line x1="4" y1="7" x2="20" y2="7" class="stroke-gray-500" />
          <line x1="4" y1="12" x2="20" y2="12" class="stroke-gray-500" />
          <line x1="4" y1="17" x2="20" y2="17" class="stroke-gray-500" />
        </svg>
      </div>
      <div class="text-xl font-bold text-orange-500">3100W</div>
      <div class="text-sm text-gray-600 font-medium text-center">Trạm trung chuyển (Inverter)</div>
    </div>

    <!-- Battery -->
    <div class="flex flex-col items-center z-10">
      <div class="bg-green-50 p-2 rounded-lg mb-3">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-16 h-16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
          <rect x="3" y="2" width="14" height="20" rx="2" class="fill-green-200 stroke-green-500" />
          <line x1="7" y1="7" x2="13" y2="7" class="stroke-green-500 stroke-width-2" />
          <line x1="10" y1="4" x2="10" y2="7" class="stroke-green-500 stroke-width-2" />
          <rect x="17" y="7" width="4" height="10" class="fill-green-200 stroke-green-500" />
        </svg>
      </div>
      <div class="text-xl font-bold text-green-600">5733W</div>
      <div class="text-sm text-gray-600 font-medium">Công suất sạc</div>
      <div class="text-xl font-bold text-blue-600 mt-2">55.2Vdc</div>
      <div class="text-sm text-gray-600 font-medium">87% Dung lượng</div>
    </div>

    <!-- Grid -->
    <div class="flex flex-col items-center col-span-1 z-10 mt-8">
      <div class="bg-gray-100 p-2 rounded-lg mb-3">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-16 h-16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="12,2 12,22" class="stroke-gray-500 stroke-width-2" />
          <polyline points="8,6 12,2 16,6" class="stroke-gray-500 stroke-width-2" />
          <polyline points="5,10 12,3 19,10" class="stroke-gray-500" />
          <polyline points="2,14 12,4 22,14" class="stroke-gray-500" />
        </svg>
      </div>
      <div class="text-xl font-bold text-gray-700">219.9Vac</div>
      <div class="text-sm text-gray-600 font-medium">50.18Hz</div>
      <div class="text-xl font-bold text-red-500">0W</div>
    </div>

    <!-- Consumption -->
    <div class="flex flex-col items-center col-span-1 z-10 mt-8">
      <div class="bg-blue-50 p-2 rounded-lg mb-3">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-16 h-16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" class="fill-blue-50 stroke-blue-500" />
          <polyline points="9 22 9 12 15 12 15 22" class="fill-blue-100 stroke-blue-500" />
          <polyline points="7 8 12 3 17 8" class="stroke-blue-500" />
        </svg>
      </div>
      <div class="text-xl font-bold text-indigo-600">1273W</div>
      <div class="text-sm text-gray-600 font-medium">Tiêu thụ</div>
    </div>
    <!-- Clock -->
    <div class="flex flex-col items-center col-span-1 z-10 mt-8">
      <div class="bg-black text-white text-2xl font-bold px-6 py-3 rounded-md shadow-lg w-32 text-center" id="clock">--:--:--</div>
    </div>
  </div>
  <!-- Đường từ Solar Panel đến Inverter (Ngang) -->
  <div class="absolute top-[3.2rem] left-[18%] w-[15%] h-3 flex items-center">
    <div class="w-full h-1 bg-yellow-400 rounded-full relative overflow-hidden">
      <div class="energy-dots"></div>
    </div>
    <!-- Mũi tên -->
    <div class="w-0 h-0 border-t-4 border-b-4 border-l-6 border-solid border-l-yellow-500 border-t-transparent border-b-transparent"></div>
  </div>

  <!-- Đường từ Inverter đến Battery (Ngang) -->
  <div class="absolute top-[3.2rem] left-[50%] w-[15%] h-3 flex items-center">
    <div class="w-full h-1 bg-green-400 rounded-full relative overflow-hidden">
      <div class="energy-dots bg-green-600"></div>
    </div>
    <!-- Mũi tên -->
    <div class="w-0 h-0 border-t-4 border-b-4 border-l-6 border-solid border-l-green-500 border-t-transparent border-b-transparent"></div>
  </div>

  <!-- Đường từ Grid đến Inverter (Dọc) -->
  <div class="absolute top-[7rem] left-[33%] h-[4rem] w-3 flex justify-center">
    <div class="h-full w-1 bg-gray-400 rounded-full relative overflow-hidden">
      <div class="energy-dots-vertical"></div>
    </div>
    <!-- Mũi tên -->
    <div class="w-0 h-0 border-l-4 border-r-4 border-b-6 border-solid border-b-gray-500 border-l-transparent border-r-transparent absolute -bottom-1"></div>
  </div>

  <!-- Đường từ Inverter đến Consumption (Ngang) -->
  <div class="absolute top-[12rem] left-[50%] w-[15%] h-3 flex items-center">
    <div class="w-full h-1 bg-blue-400 rounded-full relative overflow-hidden">
      <div class="energy-dots bg-blue-600"></div>
    </div>
    <!-- Mũi tên -->
    <div class="w-0 h-0 border-t-4 border-b-4 border-l-6 border-solid border-l-blue-500 border-t-transparent border-b-transparent"></div>
  </div>

  <!-- Đường từ Battery đến Consumption (Dọc) -->
  <div class="absolute top-[7rem] right-[25%] h-[5rem] w-3 flex justify-center">
    <div class="h-full w-1 bg-indigo-400 rounded-full relative overflow-hidden">
      <div class="energy-dots-vertical bg-indigo-600"></div>
    </div>
    <!-- Mũi tên -->
    <div class="w-0 h-0 border-l-4 border-r-4 border-b-6 border-solid border-b-indigo-500 border-l-transparent border-r-transparent absolute -bottom-1"></div>
  </div>

  <!-- Status Indicator -->
  <div class="absolute top-2 right-2 flex items-center space-x-2 z-20 bg-green-50 px-3 py-1 rounded-full shadow-sm">
    <div class="w-3 h-3 rounded-full bg-green-500 animate-pulse"></div>
    <span class="text-sm text-green-700 font-medium">Normal</span>
  </div>
</section>

    <!-- Power and Energy Section -->
<div id="reportCard" class="bg-white/30  backdrop-blur-xl bg-gradient-to-br from-white via-orange-50 to-orange-100 text-gray-800 rounded-2xl p-6 shadow-2xl w-full mx-auto">
      <!-- Electricity Price Input -->
        <h3 class="text-xl font-semibold mb-4">Trạng Thái Hệ Thống</h3>
        <div class="space-y-4 ">
            <div>
                <div class="flex justify-between items-center mb-1">
                    <span>Trạng thái pin</span>
                    <span class="text-green-600 font-medium">Đang sạc (76%)</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                    <div class="bg-green-600 h-2.5 rounded-full" style="width: 76%"></div>
                </div>
            </div>
            <div>
                <div class="flex justify-between items-center mb-1">
                    <span>Năng lượng thu được</span>
                    <span class="text-yellow-600 font-medium">4.2 kW</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                    <div class="bg-yellow-400 h-2.5 rounded-full" style="width: 65%"></div>
                </div>
            </div>
            <div>
                <div class="flex justify-between items-center mb-1">
                    <span>Tiêu thụ hiện tại</span>
                    <span class="text-blue-600 font-medium">2.8 kW</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                    <div class="bg-blue-600 h-2.5 rounded-full" style="width: 45%"></div>
                </div>
            </div>
            <div>
                <div class="flex justify-between items-center mb-1">
                    <span>Nhiệt độ hệ thống</span>
                    <span class="text-red-600 font-medium">32°C</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                    <div class="bg-red-500 h-2.5 rounded-full" style="width: 40%"></div>
                </div>
            </div>
            <div class="pt-4 border-t">
                <h4 class="font-medium mb-2">Thiết bị đang hoạt động</h4>
                <div class="space-y-2">
                    <div class="flex justify-between">
                        <span>Điều hòa phòng khách</span>
                        <span>1.2 kW</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Tủ lạnh</span>
                        <span>0.4 kW</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Máy giặt</span>
                        <span>0.8 kW</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Đèn và thiết bị khác</span>
                        <span>0.4 kW</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="flex justify-between items-start">
          <div>
            <h3 class="text-xl font-semibold mb-1">Báo cáo hôm nay</h3>
            <p class="text-sm text-gray-600">Tổng sản lượng</p>
            <p id="totalKwh" class="text-2xl font-bold text-green-600 mt-1">0.0 kWh</p>

            <p class="mt-3 text-sm text-gray-600">Tiết kiệm được</p>
            <p id="savedMoney" class="text-lg font-bold text-emerald-600">0₫</p>

            <div class="mt-4">
              <p class="text-sm text-gray-500">So với hôm qua:</p>
              <p id="compareYesterday" class="text-sm font-semibold text-yellow-500">+0.0 kWh (↑0%)</p>
            </div>
          </div>
        </div>
          <!-- Progress bar -->
  <div class="mt-6">
    <div class="flex justify-between text-sm text-gray-500 mb-1">
      <span>Đạt được</span>
      <span id="progressPercent">0%</span>

    </div>
  </div>

  <div class="w-full h-2 bg-gray-200 rounded-full overflow-hidden">
    <div id="progressBar" class="h-full bg-gradient-to-r from-green-400 to-green-600 rounded-full transition-all duration-500" style="width: 0%"></div>
  </div>
        </div>
         </div>
       </div>
     </div>
     <!-- Custom Script -->
<script src="script.js"></script>


   </body>

 </html>